<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Wed Feb 05 16:59:05 PST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ByteAggregator (StoreMate-parent 1.0.1-SNAPSHOT API)</title>
<meta name="date" content="2014-02-05">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ByteAggregator (StoreMate-parent 1.0.1-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ByteAggregator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.Holder.html" title="class in com.fasterxml.storemate.shared.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/fasterxml/storemate/shared/util/ByteUtil.html" title="class in com.fasterxml.storemate.shared.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/fasterxml/storemate/shared/util/ByteAggregator.html" target="_top">Frames</a></li>
<li><a href="ByteAggregator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.fasterxml.storemate.shared.util</div>
<h2 title="Class ByteAggregator" class="title">Class ByteAggregator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">java.io.OutputStream</a></li>
<li>
<ul class="inheritance">
<li>com.fasterxml.storemate.shared.util.ByteAggregator</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/io/Flushable.html?is-external=true" title="class or interface in java.io">Flushable</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ByteAggregator</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></pre>
<div class="block">Helper class that is similar to <a href="http://download.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html?is-external=true" title="class or interface in java.io"><code>ByteArrayOutputStream</code></a>
 in usage, but bit more efficient for use cases StoreMate has.
 Instead of a single byte array, underlying storage is a List of
 arrays (that is, segmented virtual array). The biggest chunk is
 also recycled as necessary using <a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.html" title="class in com.fasterxml.storemate.shared.util"><code>BufferRecycler</code></a>)
<p>
 Note that instances are NOT designed to be reusable, since instance
 creation is cheap as the underlying buffers are automatically recycled
 as necessary. So do not try to be clever and reuse instances;
 this will most likely not work, but instead rely on lower level byte buffer
 recycling that occurs automatically, <b>as long as you call <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a></b>
 either directly or indirectly (note: <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#close()"><code>close()</code></a> will NOT call <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a>).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.Holder.html" title="class in com.fasterxml.storemate.shared.util">BufferRecycler.Holder</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_bufferHolder">_bufferHolder</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.html" title="class in com.fasterxml.storemate.shared.util">BufferRecycler</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_bufferRecycler">_bufferRecycler</a></strong></code>
<div class="block">We can recycle parts of buffer, which is especially useful when dealing
 with small content, but can also help reduce first-chunk overhead for
 larger ones.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_currBlock">_currBlock</a></strong></code>
<div class="block">Currently active processing block</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_currBlockPtr">_currBlockPtr</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</a>&lt;byte[]&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_pastBlocks">_pastBlocks</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#_pastLen">_pastLen</a></strong></code>
<div class="block">Number of bytes within byte arrays in <code>_pastBlocks</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#DEFAULT_MAX_BLOCK_SIZE">DEFAULT_MAX_BLOCK_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#MAX_BLOCK_SIZE">MAX_BLOCK_SIZE</a></strong></code>
<div class="block">Maximum block size we will use for individual non-aggregated
 blocks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#MIN_FIRST_BLOCK_SIZE">MIN_FIRST_BLOCK_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#MIN_OTHER_BLOCK_SIZE">MIN_OTHER_BLOCK_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#NO_BYTES">NO_BYTES</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#ByteAggregator()">ByteAggregator</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#ByteAggregator(byte[], int, int)">ByteAggregator</a></strong>(byte[]&nbsp;data,
              int&nbsp;offset,
              int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#ByteAggregator(int)">ByteAggregator</a></strong>(int&nbsp;minSize)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#calcChecksum(java.util.zip.Checksum)">calcChecksum</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/util/zip/Checksum.html?is-external=true" title="class or interface in java.util.zip">Checksum</a>&nbsp;cs)</code>
<div class="block">Method for calculating <a href="http://download.oracle.com/javase/6/docs/api/java/util/zip/Checksum.html?is-external=true" title="class or interface in java.util.zip"><code>Checksum</code></a> over contents of
 this aggregator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#flush()">flush</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#readUpTo(java.io.InputStream, int)">readUpTo</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in,
        int&nbsp;maxLen)</code>
<div class="block">Helper method for trying to read up to specified amount of content
 into this aggregator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()">release</a></strong>()</code>
<div class="block">Method for clearing out all aggregated content and return
 recyclable buffers for reuse, if possible, rendering this
 instance unusable for further operations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#reset()">reset</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Use <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#resetForReuse()">resetForReuse</a></strong>()</code>
<div class="block">Method for clearing out all aggregated content, but <b>without</b>
 returning all recyclable buffers, to make it possible to use
 this instance efficiently.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#size()">size</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#toByteArray()">toByteArray</a></strong>()</code>
<div class="block">Method called when results are finalized and we can get the
 full aggregated result buffer to return to the caller.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#toByteArray(boolean)">toByteArray</a></strong>(boolean&nbsp;release)</code>
<div class="block">Method called when results are finalized and we can get the
 full aggregated result buffer to return to the caller.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#toByteArray(boolean, byte[])">toByteArray</a></strong>(boolean&nbsp;release,
           byte[]&nbsp;prefix)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#with(com.fasterxml.storemate.shared.util.ByteAggregator, byte[], int, int)">with</a></strong>(<a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a>&nbsp;aggr,
    byte[]&nbsp;data,
    int&nbsp;offset,
    int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#withBytes(com.fasterxml.storemate.shared.util.WithBytesCallback)">withBytes</a></strong>(<a href="../../../../../com/fasterxml/storemate/shared/util/WithBytesCallback.html" title="interface in com.fasterxml.storemate.shared.util">WithBytesCallback</a>&lt;T&gt;&nbsp;callback)</code>
<div class="block">Method that can be used to access contents aggregated, by
 getting aggregator to call <a href="../../../../../com/fasterxml/storemate/shared/util/WithBytesCallback.html#withBytes(byte[], int, int)"><code>WithBytesCallback.withBytes(byte[], int, int)</code></a> once
 per each segment with data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#write(byte[])">write</a></strong>(byte[]&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#write(byte[], int, int)">write</a></strong>(byte[]&nbsp;b,
     int&nbsp;off,
     int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#write(int)">write</a></strong>(int&nbsp;b)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#writeTo(java.io.OutputStream)">writeTo</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</code>
<div class="block">Method for writing contents of this aggregator into provided
 <a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NO_BYTES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_BYTES</h4>
<pre>protected static final&nbsp;byte[] NO_BYTES</pre>
</li>
</ul>
<a name="DEFAULT_MAX_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAX_BLOCK_SIZE</h4>
<pre>protected static final&nbsp;int DEFAULT_MAX_BLOCK_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.fasterxml.storemate.shared.util.ByteAggregator.DEFAULT_MAX_BLOCK_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MIN_FIRST_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_FIRST_BLOCK_SIZE</h4>
<pre>protected static final&nbsp;int MIN_FIRST_BLOCK_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.fasterxml.storemate.shared.util.ByteAggregator.MIN_FIRST_BLOCK_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MIN_OTHER_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_OTHER_BLOCK_SIZE</h4>
<pre>protected static final&nbsp;int MIN_OTHER_BLOCK_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.fasterxml.storemate.shared.util.ByteAggregator.MIN_OTHER_BLOCK_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAX_BLOCK_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_BLOCK_SIZE</h4>
<pre>protected&nbsp;int MAX_BLOCK_SIZE</pre>
<div class="block">Maximum block size we will use for individual non-aggregated
 blocks. Let's limit to using 256k chunks.</div>
</li>
</ul>
<a name="_bufferRecycler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_bufferRecycler</h4>
<pre>protected static final&nbsp;<a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.html" title="class in com.fasterxml.storemate.shared.util">BufferRecycler</a> _bufferRecycler</pre>
<div class="block">We can recycle parts of buffer, which is especially useful when dealing
 with small content, but can also help reduce first-chunk overhead for
 larger ones.</div>
</li>
</ul>
<a name="_bufferHolder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_bufferHolder</h4>
<pre>protected final&nbsp;<a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.Holder.html" title="class in com.fasterxml.storemate.shared.util">BufferRecycler.Holder</a> _bufferHolder</pre>
</li>
</ul>
<a name="_pastBlocks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_pastBlocks</h4>
<pre>protected&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</a>&lt;byte[]&gt; _pastBlocks</pre>
</li>
</ul>
<a name="_pastLen">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_pastLen</h4>
<pre>protected&nbsp;int _pastLen</pre>
<div class="block">Number of bytes within byte arrays in <code>_pastBlocks</code>.</div>
</li>
</ul>
<a name="_currBlock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_currBlock</h4>
<pre>protected&nbsp;byte[] _currBlock</pre>
<div class="block">Currently active processing block</div>
</li>
</ul>
<a name="_currBlockPtr">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_currBlockPtr</h4>
<pre>protected&nbsp;int _currBlockPtr</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ByteAggregator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ByteAggregator</h4>
<pre>public&nbsp;ByteAggregator()</pre>
</li>
</ul>
<a name="ByteAggregator(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ByteAggregator</h4>
<pre>public&nbsp;ByteAggregator(int&nbsp;minSize)</pre>
</li>
</ul>
<a name="ByteAggregator(byte[], int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ByteAggregator</h4>
<pre>public&nbsp;ByteAggregator(byte[]&nbsp;data,
              int&nbsp;offset,
              int&nbsp;len)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="with(com.fasterxml.storemate.shared.util.ByteAggregator, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>with</h4>
<pre>public static&nbsp;<a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a>&nbsp;with(<a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a>&nbsp;aggr,
                  byte[]&nbsp;data,
                  int&nbsp;offset,
                  int&nbsp;len)</pre>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;void&nbsp;reset()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Use <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a> instead</i></div>
<div class="block">Alias for <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a>.</div>
</li>
</ul>
<a name="resetForReuse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetForReuse</h4>
<pre>public&nbsp;void&nbsp;resetForReuse()</pre>
<div class="block">Method for clearing out all aggregated content, but <b>without</b>
 returning all recyclable buffers, to make it possible to use
 this instance efficiently.</div>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release()</pre>
<div class="block">Method for clearing out all aggregated content and return
 recyclable buffers for reuse, if possible, rendering this
 instance unusable for further operations.
<p>
 Note that instance can NOT be used after this method is called;
 instead, a new instance must be constructed.</div>
</li>
</ul>
<a name="write(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public final&nbsp;void&nbsp;write(byte[]&nbsp;b)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true#write(byte[])" title="class or interface in java.io">write</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></dd>
</dl>
</li>
</ul>
<a name="write(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public final&nbsp;void&nbsp;write(byte[]&nbsp;b,
         int&nbsp;off,
         int&nbsp;len)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true#write(byte[], int, int)" title="class or interface in java.io">write</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></dd>
</dl>
</li>
</ul>
<a name="write(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(int&nbsp;b)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true#write(int)" title="class or interface in java.io">write</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></dd>
</dl>
</li>
</ul>
<a name="flush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>public&nbsp;void&nbsp;flush()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/Flushable.html?is-external=true#flush()" title="class or interface in java.io">flush</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/Flushable.html?is-external=true" title="class or interface in java.io">Flushable</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true#flush()" title="class or interface in java.io">flush</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a></code></dd>
</dl>
</li>
</ul>
<a name="toByteArray()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toByteArray</h4>
<pre>public&nbsp;byte[]&nbsp;toByteArray()</pre>
<div class="block">Method called when results are finalized and we can get the
 full aggregated result buffer to return to the caller.
 Equivalent to:
<pre>
   toByteArray(true, null);
<pre>
 that is, this also implicitly calls <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a> so that no
 content is available for further calls; and no prefix will be
 prepended.</div>
</li>
</ul>
<a name="toByteArray(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toByteArray</h4>
<pre>public&nbsp;byte[]&nbsp;toByteArray(boolean&nbsp;release)</pre>
<div class="block">Method called when results are finalized and we can get the
 full aggregated result buffer to return to the caller.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>release</code> - Whether contents should be <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a> after
   the call or not</dd></dl>
</li>
</ul>
<a name="toByteArray(boolean, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toByteArray</h4>
<pre>public&nbsp;byte[]&nbsp;toByteArray(boolean&nbsp;release,
                 byte[]&nbsp;prefix)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>release</code> - Whether contents should be <a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html#release()"><code>release()</code></a> after
   the call or not</dd><dd><code>prefix</code> - Optional prefix to prepend before actual contents</dd></dl>
</li>
</ul>
<a name="writeTo(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTo</h4>
<pre>public&nbsp;void&nbsp;writeTo(<a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)
             throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Method for writing contents of this aggregator into provided
 <a href="http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io"><code>OutputStream</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="withBytes(com.fasterxml.storemate.shared.util.WithBytesCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withBytes</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;withBytes(<a href="../../../../../com/fasterxml/storemate/shared/util/WithBytesCallback.html" title="interface in com.fasterxml.storemate.shared.util">WithBytesCallback</a>&lt;T&gt;&nbsp;callback)</pre>
<div class="block">Method that can be used to access contents aggregated, by
 getting aggregator to call <a href="../../../../../com/fasterxml/storemate/shared/util/WithBytesCallback.html#withBytes(byte[], int, int)"><code>WithBytesCallback.withBytes(byte[], int, int)</code></a> once
 per each segment with data.</div>
</li>
</ul>
<a name="calcChecksum(java.util.zip.Checksum)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcChecksum</h4>
<pre>public&nbsp;<a href="../../../../../com/fasterxml/storemate/shared/util/ByteAggregator.html" title="class in com.fasterxml.storemate.shared.util">ByteAggregator</a>&nbsp;calcChecksum(<a href="http://download.oracle.com/javase/6/docs/api/java/util/zip/Checksum.html?is-external=true" title="class or interface in java.util.zip">Checksum</a>&nbsp;cs)</pre>
<div class="block">Method for calculating <a href="http://download.oracle.com/javase/6/docs/api/java/util/zip/Checksum.html?is-external=true" title="class or interface in java.util.zip"><code>Checksum</code></a> over contents of
 this aggregator.</div>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public final&nbsp;int&nbsp;size()</pre>
</li>
</ul>
<a name="readUpTo(java.io.InputStream, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readUpTo</h4>
<pre>public&nbsp;int&nbsp;readUpTo(<a href="http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in,
           int&nbsp;maxLen)
             throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Helper method for trying to read up to specified amount of content
 into this aggregator.
 Will try to read up to specified amount, and either read and return
 that amount (if enough content available); or return number of bytes
 read (if less content available).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Number of bytes actually read</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ByteAggregator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/fasterxml/storemate/shared/util/BufferRecycler.Holder.html" title="class in com.fasterxml.storemate.shared.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/fasterxml/storemate/shared/util/ByteUtil.html" title="class in com.fasterxml.storemate.shared.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/fasterxml/storemate/shared/util/ByteAggregator.html" target="_top">Frames</a></li>
<li><a href="ByteAggregator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://fasterxml.com">fasterxml.com</a>. All Rights Reserved.</small></p>
</body>
</html>
